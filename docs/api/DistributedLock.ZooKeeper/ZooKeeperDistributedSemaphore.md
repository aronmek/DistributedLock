#### [DistributedLock.ZooKeeper](README.md 'README')
### [Medallion.Threading.ZooKeeper](Medallion.Threading.ZooKeeper.md 'Medallion.Threading.ZooKeeper')

## ZooKeeperDistributedSemaphore Class

An implementation of [IDistributedSemaphore](https://github.com/madelson/DistributedLock/tree/default-documentation/docs/api/DistributedLock.Core/IDistributedSemaphore.md 'Medallion.Threading.IDistributedSemaphore') based on ZooKeeper. Uses an approach similar to [ZooKeeperDistributedLock](ZooKeeperDistributedLock.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedLock').

```csharp
public sealed class ZooKeeperDistributedSemaphore :
Medallion.Threading.IDistributedSemaphore
```

Inheritance [System.Object](https://docs.microsoft.com/en-us/dotnet/api/System.Object 'System.Object') &#129106; ZooKeeperDistributedSemaphore

Implements [IDistributedSemaphore](https://github.com/madelson/DistributedLock/tree/default-documentation/docs/api/DistributedLock.Core/IDistributedSemaphore.md 'Medallion.Threading.IDistributedSemaphore')

| Constructors | |
| :--- | :--- |
| [ZooKeeperDistributedSemaphore(ZooKeeperPath, int, string, bool, Action&lt;ZooKeeperDistributedSynchronizationOptionsBuilder&gt;)](ZooKeeperDistributedSemaphore..ctor.Ceq6ePeXhFqMiSyLs3JHqQ.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, int, string, bool, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>)') | Constructs a new semaphore based on the provided [path](ZooKeeperDistributedSemaphore..ctor.Ceq6ePeXhFqMiSyLs3JHqQ.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,int,string,bool,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).path 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, int, string, bool, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).path'), [connectionString](ZooKeeperDistributedSemaphore..ctor.Ceq6ePeXhFqMiSyLs3JHqQ.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,int,string,bool,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).connectionString 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, int, string, bool, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).connectionString'), and [options](ZooKeeperDistributedSemaphore..ctor.Ceq6ePeXhFqMiSyLs3JHqQ.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,int,string,bool,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).options 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, int, string, bool, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).options').<br/><br/>If [assumePathExists](ZooKeeperDistributedSemaphore..ctor.Ceq6ePeXhFqMiSyLs3JHqQ.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,int,string,bool,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).assumePathExists 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, int, string, bool, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).assumePathExists') is specified, then the node will not be created as part of acquiring nor will it be <br/>deleted after releasing (defaults to false). |
| [ZooKeeperDistributedSemaphore(ZooKeeperPath, string, int, string, Action&lt;ZooKeeperDistributedSynchronizationOptionsBuilder&gt;)](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>)') | Constructs a new semaphore based on the provided [directoryPath](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).directoryPath 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).directoryPath'), [name](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).name 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).name'), [connectionString](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).connectionString 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).connectionString'), and [options](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).options 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).options').<br/><br/>The semaphore's path will be a parent node of [directoryPath](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).directoryPath 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).directoryPath'). If [name](ZooKeeperDistributedSemaphore..ctor.NXXFG0kJwyz4rwDbslWqzw.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath,string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).name 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(Medallion.Threading.ZooKeeper.ZooKeeperPath, string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).name') is not a valid node name, it will be transformed to ensure<br/>validity. |
| [ZooKeeperDistributedSemaphore(string, int, string, Action&lt;ZooKeeperDistributedSynchronizationOptionsBuilder&gt;)](ZooKeeperDistributedSemaphore..ctor.ceNJY9cjGCQ/TgjjnsQT9A.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>)') | Constructs a new semaphore based on the provided [name](ZooKeeperDistributedSemaphore..ctor.ceNJY9cjGCQ/TgjjnsQT9A.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).name 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).name'), [connectionString](ZooKeeperDistributedSemaphore..ctor.ceNJY9cjGCQ/TgjjnsQT9A.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).connectionString 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).connectionString'), and [options](ZooKeeperDistributedSemaphore..ctor.ceNJY9cjGCQ/TgjjnsQT9A.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).options 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).options').<br/><br/>The semaphore's path will be a parent node of the root directory '/'. If [name](ZooKeeperDistributedSemaphore..ctor.ceNJY9cjGCQ/TgjjnsQT9A.md#Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string,int,string,System.Action_Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder_).name 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.ZooKeeperDistributedSemaphore(string, int, string, System.Action<Medallion.Threading.ZooKeeper.ZooKeeperDistributedSynchronizationOptionsBuilder>).name') is not a valid node name, it will be transformed to ensure<br/>validity. |

| Properties | |
| :--- | :--- |
| [MaxCount](ZooKeeperDistributedSemaphore.MaxCount.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.MaxCount') | Implements [MaxCount](https://github.com/madelson/DistributedLock/tree/default-documentation/docs/api/DistributedLock.Core/IDistributedSemaphore.MaxCount.md 'Medallion.Threading.IDistributedSemaphore.MaxCount') |
| [Path](ZooKeeperDistributedSemaphore.Path.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.Path') | The zookeeper node path |

| Methods | |
| :--- | :--- |
| [AcquireAsync(Nullable&lt;TimeSpan&gt;, CancellationToken)](ZooKeeperDistributedSemaphore.AcquireAsync.FRq4bLc63K5HTCCEHhCigg.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.AcquireAsync(System.Nullable<System.TimeSpan>, System.Threading.CancellationToken)') | Acquires a semaphore ticket asynchronously, failing with [System.TimeoutException](https://docs.microsoft.com/en-us/dotnet/api/System.TimeoutException 'System.TimeoutException') if the attempt times out. Usage: |
| [TryAcquireAsync(TimeSpan, CancellationToken)](ZooKeeperDistributedSemaphore.TryAcquireAsync.9Sm3yQ3LE3ZAN2gEjF09kA.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.TryAcquireAsync(System.TimeSpan, System.Threading.CancellationToken)') | Attempts to acquire a semaphore ticket asynchronously. Usage: |

| Explicit Interface Implementations | |
| :--- | :--- |
| [Medallion.Threading.IDistributedSemaphore.Name](ZooKeeperDistributedSemaphore.Medallion.Threading.IDistributedSemaphore.Name.md 'Medallion.Threading.ZooKeeper.ZooKeeperDistributedSemaphore.Medallion.Threading.IDistributedSemaphore.Name') | Implements [Name](https://github.com/madelson/DistributedLock/tree/default-documentation/docs/api/DistributedLock.Core/IDistributedSemaphore.Name.md 'Medallion.Threading.IDistributedSemaphore.Name'). Implemented explicitly to avoid confusion with the fact<br/>that this will include the leading "/" and base directory alongside the passed-in name. |
